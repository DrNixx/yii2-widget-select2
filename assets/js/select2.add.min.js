/*!
 * Additional enhancements for Select2 widget extension for Yii 2.0.
 */
;var initS2ToggleAll=function(){},initS2Order=function(){},initS2Loading=function(){},initS2Change=function(){},initS2Unselect=function(){};(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{if(typeof module==="object"&&module.exports){module.exports=a(require("jquery"))}else{a(window.jQuery)}}}(function(a){initS2ToggleAll=function(e){var b=a("#"+e),c="#s2-togall-"+e,d=a(c);if(!b.attr("multiple")){return}b.on("select2:open.onixs2",function(){if(d.parent().attr("id")==="parent-"+c||!b.attr("multiple")){return}a("#select2-"+e+"-results").closest(".select2-dropdown").prepend(d);a("#parent-"+c).remove()}).on("change.onixselect2",function(){if(!b.attr("multiple")){return}var f=0,g=b.val()?b.val().length:0;d.removeClass("s2-togall-select s2-togall-unselect");b.find("option:enabled").each(function(){if(a(this).val().length){f++}});if(f===0||g!==f){d.addClass("s2-togall-select")}else{d.addClass("s2-togall-unselect")}});d.off(".onixs2").on("click.onixs2",function(){var h=d.hasClass("s2-togall-select"),f=true,g="selectall";if(!h){f=false;g="unselectall"}a("#select2-"+e+"-results").find('[role="treeitem"]').each(function(m,l){var i=a(l).data("data"),j=typeof i.element!=="undefined"?a(i.element):[];if(j.length){j.prop("selected",f)}});b.select2("close").trigger("onixselect2:"+g).trigger("change")})};initS2Change=function(e){e=e||a(this);var f=a(".select2-container--open"),d,c,b=e.parents("[class*='has-']");if(b.length){d=b[0].className.split(/\s+/);for(c=0;c<d.length;c++){if(d[c].match("has-")){f.removeClass("has-success has-error has-warning").addClass(d[c])}}}};initS2Unselect=function(){var b=a(this),c=b.data("select2").options;c.set("disabled",true);setTimeout(function(){c.set("disabled",false);b.trigger("onixselect2:cleared")},1)};initS2Order=function(d,c){var b=a("#"+d);if(c&&c.length){a.each(c,function(f,e){b.find('option[value="'+e+'"]').appendTo(b)});b.find("option:not(:selected)").appendTo(b)}};initS2Loading=function(e,c){var b=window[c]||{},g=b.themeCss,d=b.sizeCss,f=b.doOrder,h=b.doReset,m=b.doToggle,l=a("#"+e),k=a(g),i=a(".onix-plugin-loading.loading-"+e),j=a(".group-"+e);l.off(".onixs2");if(!k.length){l.show()}if(j.length){j.removeClass("onix-input-group-hide").removeClass(".group-"+e)}if(i.length){i.remove()}if(d){l.next(g).removeClass(d).addClass(d)}if(h){l.closest("form").off(".onixs2").on("reset.onixs2",function(){setTimeout(function(){l.trigger("change").trigger("onixselect2:reset")},100)})}if(m){initS2ToggleAll(e)}if(f){l.on("select2:select.onixs2 select2:unselect.onixs2",function(n){var o=a(n.params.data.element);if(!o||!o.length){return}o.detach();l.append(o).find("option:not(:selected)").appendTo(l)})}l.on("change.onixs2",function(){setTimeout(initS2Change,500)}).on("select2:unselecting.onixs2",initS2Unselect)}}));